/BATCH  
! /COM,ANSYS RELEASE 2021 R1           BUILD 21.1      UP20201109       15:50:34  
/input,menust,tmp,''
! /GRA,POWER  
! /GST,ON 
! /PLO,INFO,3 
! /GRO,CURL,ON
! /CPLANE,1   
! /REPLOT,RESIZE  
WPSTYLE,,,,,,,,0
! /REPLOT,RESIZE  
!*  
/NOPR   
KEYW,PR_SET,1   
KEYW,PR_STRUC,1 
KEYW,PR_THERM,0 
KEYW,PR_FLUID,0 
KEYW,PR_ELMAG,0 
KEYW,MAGNOD,0   
KEYW,MAGEDG,0   
KEYW,MAGHFE,0   
KEYW,MAGELC,0   
KEYW,PR_MULTI,0 
/GO 
!*  
! /COM,   
! /COM,Preferences for GUI filtering have been set to display:
! /COM,  Structural   
!*  

!* Disable popups.
/UIS,MSGPOP,4

*DIM,samples,ARRAY,9,100
samples(1,1) = 73636.0,2471.0,1819.0,36.36,3.152,1.778,191959595960.0,39.0,22.0
samples(1,2) = 48182.0,1453.0,1385.0,43.64,2.667,1.879,101505050505.0,33.0,23.0
samples(1,3) = 44545.0,-1459.0,1147.0,141.82,3.192,1.838,149747474747.0,40.0,23.0
samples(1,4) = 66364.0,-2764.0,88.0,178.18,3.414,1.545,7030303030.0,43.0,19.0
samples(1,5) = 13636.0,-372.0,-429.0,229.09,3.293,1.929,169848484848.0,41.0,24.0
samples(1,6) = 10000.0,173.0,-379.0,294.55,2.121,1.768,129646464646.0,27.0,22.0
samples(1,7) = 77273.0,2709.0,1741.0,32.73,2.101,1.162,157787878788.0,26.0,15.0
samples(1,8) = 28182.0,-1169.0,-112.0,185.45,2.929,1.152,179898989899.0,37.0,14.0
samples(1,9) = 57273.0,-1674.0,1701.0,134.55,3.232,1.04,47232323232.0,40.0,13.0
samples(1,10) = 88182.0,-3658.0,349.0,174.55,3.172,1.141,75373737374.0,40.0,14.0
samples(1,11) = 11818.0,233.0,-434.0,298.18,3.515,1.343,143717171717.0,44.0,17.0
samples(1,12) = 65455.0,130.0,2724.0,87.27,2.97,1.444,141707070707.0,37.0,18.0
samples(1,13) = 90909.0,2197.0,3086.0,54.55,2.404,1.758,35171717172.0,30.0,22.0
samples(1,14) = 74545.0,-1016.0,2935.0,109.09,3.03,1.576,103515151515.0,38.0,20.0
samples(1,15) = 25455.0,-471.0,-950.0,243.64,3.01,1.97,25121212121.0,38.0,25.0
samples(1,16) = 72727.0,2879.0,946.0,18.18,3.899,1.586,125626262626.0,49.0,20.0
samples(1,17) = 47273.0,703.0,-1840.0,290.91,3.131,1.03,89444444444.0,39.0,13.0
samples(1,18) = 29091.0,-538.0,1086.0,116.36,2.808,1.323,63313131313.0,35.0,17.0
samples(1,19) = 14545.0,-425.0,-432.0,225.45,3.919,1.626,111555555556.0,49.0,20.0
samples(1,20) = 50909.0,1625.0,1363.0,40.0,3.313,1.96,171858585859.0,41.0,24.0
samples(1,21) = 52727.0,-174.0,-2190.0,265.45,3.091,1.697,121606060606.0,39.0,21.0
samples(1,22) = 76364.0,750.0,3092.0,76.36,2.283,1.556,41202020202.0,29.0,19.0
samples(1,23) = 10909.0,382.0,-246.0,327.27,3.616,1.263,27131313131.0,45.0,16.0
samples(1,24) = 12727.0,92.0,522.0,80.0,3.596,1.455,117585858586.0,45.0,18.0
samples(1,25) = 55455.0,-473.0,-2262.0,258.18,3.495,1.121,69343434343.0,44.0,14.0
samples(1,26) = 75455.0,2275.0,-2170.0,316.36,2.727,1.424,65323232323.0,34.0,18.0
samples(1,27) = 53636.0,-2144.0,-630.0,196.36,3.071,1.949,200000000000.0,38.0,24.0
samples(1,28) = 35455.0,-1417.0,416.0,163.64,3.677,1.131,17080808081.0,46.0,14.0
samples(1,29) = 80000.0,1757.0,-2832.0,301.82,3.273,1.202,181909090909.0,41.0,15.0
samples(1,30) = 93636.0,-3347.0,-2004.0,210.91,2.707,1.081,107535353535.0,34.0,14.0
samples(1,31) = 97273.0,-4002.0,-640.0,189.09,2.162,1.051,61303030303.0,27.0,13.0
samples(1,32) = 83636.0,-2870.0,-1976.0,214.55,3.475,1.303,145727272727.0,43.0,16.0
samples(1,33) = 51818.0,897.0,1964.0,65.45,3.051,1.404,105525252525.0,38.0,18.0
samples(1,34) = 86364.0,-2357.0,2720.0,130.91,3.354,1.737,147737373737.0,42.0,22.0
samples(1,35) = 100000.0,4158.0,-264.0,356.36,2.949,1.717,81404040404.0,37.0,21.0
samples(1,36) = 58182.0,-345.0,2400.0,98.18,3.697,1.667,77383838384.0,46.0,21.0
samples(1,37) = 87273.0,-1189.0,-3436.0,250.91,3.212,1.02,163818181818.0,40.0,13.0
samples(1,38) = 45455.0,-1847.0,-417.0,192.73,3.333,1.606,185929292929.0,42.0,20.0
samples(1,39) = 19091.0,-707.0,364.0,152.73,2.869,1.485,87434343434.0,36.0,19.0
samples(1,40) = 56364.0,697.0,2243.0,72.73,2.222,1.182,67333333333.0,28.0,15.0
samples(1,41) = 82727.0,-1332.0,3179.0,112.73,2.444,1.283,109545454545.0,31.0,16.0
samples(1,42) = 71818.0,1736.0,-2438.0,305.45,3.798,1.939,49242424242.0,47.0,24.0
samples(1,43) = 49091.0,-545.0,1971.0,105.45,2.848,1.848,93464646465.0,36.0,23.0
samples(1,44) = 61818.0,-1288.0,2231.0,120.0,2.747,1.253,83414141414.0,34.0,16.0
samples(1,45) = 67273.0,2803.0,-0.0,360.0,2.687,1.192,29141414141.0,34.0,15.0
samples(1,46) = 20000.0,807.0,209.0,14.55,3.778,2.0,11050505051.0,47.0,25.0
samples(1,47) = 70909.0,-1789.0,-2351.0,232.73,2.828,1.616,197989898990.0,35.0,20.0
samples(1,48) = 59091.0,2152.0,1197.0,29.09,4.0,1.333,123616161616.0,50.0,17.0
samples(1,49) = 64545.0,-2464.0,-1078.0,203.64,2.081,1.747,195979797980.0,26.0,22.0
samples(1,50) = 63636.0,1252.0,2337.0,61.82,2.323,1.808,19090909091.0,29.0,23.0
samples(1,51) = 68182.0,-2670.0,-972.0,200.0,3.394,1.212,23111111111.0,42.0,15.0
samples(1,52) = 21818.0,893.0,172.0,10.91,3.737,1.374,159797979798.0,47.0,17.0
samples(1,53) = 40909.0,-659.0,-1572.0,247.27,3.434,1.636,97484848485.0,43.0,20.0
samples(1,54) = 42727.0,-986.0,1482.0,123.64,3.556,1.707,13060606061.0,44.0,21.0
samples(1,55) = 46364.0,1916.0,-245.0,352.73,3.758,1.242,43212121212.0,47.0,16.0
samples(1,56) = 34545.0,-205.0,-1425.0,261.82,3.111,1.98,37181818182.0,39.0,25.0
samples(1,57) = 27273.0,-1136.0,-36.0,181.82,3.374,1.727,9040404040.0,42.0,22.0
samples(1,58) = 36364.0,1440.0,-473.0,341.82,3.717,1.788,85424242424.0,46.0,22.0
samples(1,59) = 81818.0,2745.0,-2021.0,323.64,2.04,1.232,21101010101.0,26.0,15.0
samples(1,60) = 70000.0,1839.0,-2264.0,309.09,3.838,1.535,71353535354.0,48.0,19.0
samples(1,61) = 39091.0,1599.0,-308.0,349.09,2.02,1.384,183919191919.0,25.0,17.0
samples(1,62) = 43636.0,87.0,-1816.0,272.73,2.768,1.293,175878787879.0,35.0,16.0
samples(1,63) = 96364.0,445.0,3990.0,83.64,3.939,1.273,135676767677.0,49.0,16.0
samples(1,64) = 40000.0,-833.0,-1443.0,240.0,2.202,1.889,39191919192.0,28.0,24.0
samples(1,65) = 92727.0,-2879.0,-2576.0,221.82,2.424,1.091,99494949495.0,30.0,14.0
samples(1,66) = 32727.0,-826.0,1085.0,127.27,2.99,1.101,5020202020.0,37.0,14.0
samples(1,67) = 50000.0,362.0,-2052.0,280.0,2.606,1.222,73363636364.0,33.0,15.0
samples(1,68) = 62727.0,-2549.0,576.0,167.27,2.646,1.677,151757575758.0,33.0,21.0
samples(1,69) = 78182.0,-2895.0,-1493.0,207.27,3.96,1.0,57282828283.0,49.0,12.0
samples(1,70) = 33636.0,-1154.0,795.0,145.45,2.242,1.313,193969696970.0,28.0,16.0
samples(1,71) = 15455.0,191.0,-615.0,287.27,2.465,1.172,45222222222.0,31.0,15.0
samples(1,72) = 99091.0,2177.0,3508.0,58.18,2.788,1.687,133666666667.0,35.0,21.0
samples(1,73) = 26364.0,841.0,-706.0,320.0,2.525,1.475,131656565657.0,32.0,18.0
samples(1,74) = 31818.0,-988.0,884.0,138.18,2.303,1.414,53262626263.0,29.0,18.0
samples(1,75) = 37273.0,-1332.0,798.0,149.09,3.657,1.515,165828282828.0,46.0,19.0
samples(1,76) = 60000.0,2185.0,-1215.0,330.91,3.576,1.869,1000000000.0,45.0,23.0
samples(1,77) = 60909.0,2356.0,-943.0,338.18,3.535,1.525,51252525253.0,44.0,19.0
samples(1,78) = 38182.0,-25.0,1591.0,90.91,3.455,1.566,115575757576.0,43.0,20.0
samples(1,79) = 69091.0,-2843.0,455.0,170.91,2.182,1.798,161808080808.0,27.0,22.0
samples(1,80) = 79091.0,1176.0,3078.0,69.09,3.636,1.657,15070707071.0,45.0,21.0
samples(1,81) = 84545.0,-939.0,-3395.0,254.55,3.879,1.99,95474747475.0,48.0,25.0
samples(1,82) = 23636.0,-16.0,-985.0,269.09,2.364,1.465,177888888889.0,30.0,18.0
samples(1,83) = 24545.0,1021.0,65.0,3.64,2.263,1.01,127636363636.0,28.0,13.0
samples(1,84) = 30000.0,1240.0,158.0,7.27,2.889,1.394,139696969697.0,36.0,17.0
samples(1,85) = 17273.0,-676.0,246.0,160.0,2.384,1.495,137686868687.0,30.0,19.0
samples(1,86) = 30909.0,-264.0,1261.0,101.82,3.859,1.111,59292929293.0,48.0,14.0
samples(1,87) = 80909.0,2287.0,2476.0,47.27,2.343,1.859,189949494949.0,29.0,23.0
samples(1,88) = 89091.0,3446.0,1380.0,21.82,2.909,1.071,33161616162.0,36.0,13.0
samples(1,89) = 18182.0,733.0,-190.0,345.45,3.98,1.646,167838383838.0,50.0,21.0
samples(1,90) = 16364.0,430.0,529.0,50.91,2.485,1.818,187939393939.0,31.0,23.0
samples(1,91) = 91818.0,424.0,-3802.0,276.36,3.253,1.354,91454545455.0,41.0,17.0
samples(1,92) = 54545.0,536.0,-2209.0,283.64,2.626,1.919,173868686869.0,33.0,24.0
samples(1,93) = 90000.0,3750.0,0.0,0.0,2.545,1.061,31151515152.0,32.0,13.0
samples(1,94) = 22727.0,-75.0,944.0,94.55,2.505,1.505,3010101010.0,31.0,19.0
samples(1,95) = 94545.0,-3609.0,1579.0,156.36,3.818,1.899,113565656566.0,48.0,24.0
samples(1,96) = 98182.0,-3216.0,-2529.0,218.18,2.061,1.909,119595959596.0,26.0,24.0
samples(1,97) = 41818.0,-965.0,-1451.0,236.36,2.141,1.434,79393939394.0,27.0,18.0
samples(1,98) = 20909.0,591.0,-640.0,312.73,2.0,1.828,155777777778.0,25.0,23.0
samples(1,99) = 85455.0,3215.0,-1530.0,334.55,2.566,1.364,153767676768.0,32.0,17.0
samples(1,100) = 95455.0,3591.0,1709.0,25.45,2.586,1.596,55272727273.0,32.0,20.0

*DO,i,1,100,1
/PREP7  
FLST,3,1,8  
FITEM,3,0,0,0   
K, ,P51X
FLST,3,1,8  
FITEM,3,samples(5,i,1),0,0   
K, ,P51X
FLST,3,1,8  
FITEM,3,samples(5,i,1),samples(6,i,1),0   
K, ,P51X
FLST,3,1,8  
FITEM,3,0,samples(6,i,1),0   
K, ,P51X
FLST,2,4,3  
FITEM,2,1   
FITEM,2,2   
FITEM,2,3   
FITEM,2,4   
A,P51X  

!*  Define element type.
ET,1,PLANE182   
!*  
KEYOPT,1,1,0
KEYOPT,1,3,3
KEYOPT,1,6,0
!*  Define thickness.
R,1,1,  
!*  Define material properties.
MPTEMP,,,,,,,,  
MPTEMP,1,0  
MPDATA,EX,1,,200e9  
MPDATA,PRXY,1,,0.3  

!*  Create the mesh.
FLST,5,2,4,ORDE,2   
FITEM,5,1   
FITEM,5,3   
CM,_Y,LINE  
LSEL, , , ,P51X 
CM,_Y1,LINE 
CMSEL,,_Y   
!*  
LESIZE,_Y1, , ,samples(8,i,1)-1, , , , ,1
!*  
FLST,5,2,4,ORDE,2   
FITEM,5,2   
FITEM,5,4   
CM,_Y,LINE  
LSEL, , , ,P51X 
CM,_Y1,LINE 
CMSEL,,_Y   
!*  
LESIZE,_Y1, , ,samples(9,i,1)-1, , , , ,1
!*  
MSHAPE,0,2D 
MSHKEY,0
!*  
CM,_Y,AREA  
ASEL, , , ,       1 
CM,_Y1,AREA 
CHKMSH,'AREA'   
CMSEL,S,_Y  
!*  
AMESH,_Y1   
!*  
CMDELE,_Y   
CMDELE,_Y1  
CMDELE,_Y2  

! NPLOT   
! /PNUM,KP,0  
! /PNUM,LINE,0
! /PNUM,AREA,0
! /PNUM,VOLU,0
! /PNUM,NODE,1
! /PNUM,TABN,0
! /PNUM,SVAL,0
! /NUMBER,0   
!*  
! /PNUM,ELEM,0
! /REPLOT 
!*  
! /REPLOT,RESIZE  

!*  Apply displacement boundary condition.
FINISH  
/SOL
FLST,2,1,4,ORDE,1   
FITEM,2,4   
!*  
/GO 
DL,P51X, ,ALL,0 

!* Apply X and Y components of load on free end.
FLST,2,48,1,ORDE,2  
FITEM,2,102 
FITEM,2,-149
!*  
/GO 
F,P51X,FX,samples(2,i,1)  

FLST,2,2,1,ORDE,2   
FITEM,2,2   
FITEM,2,101 
!*  
/GO 
F,P51X,FX,samples(2,i,1)/2

FLST,2,48,1,ORDE,2  
FITEM,2,102 
FITEM,2,-149
!*  
/GO 
F,P51X,FY,samples(3,i,1) 

FLST,2,2,1,ORDE,2   
FITEM,2,2   
FITEM,2,101 
!*  
/GO 
F,P51X,FY,samples(3,i,1)/2


FINISH  
/SOL
! /STATUS,SOLU
SOLVE   
FINISH  
/POST1  
/SHOW,WIN32C
SET,FIRST   
/PLOPTS,INFO,3  
/CONTOUR,ALL,18 
/PNUM,MAT,1 
/NUMBER,1   
/REPLOT,RESIZE  
PLNSOL,S,EQV
/UIS,ABORT,1  
/SHOW,WIN32 
/REPLOT,RESIZE  
!*  
! /DSCALE,ALL,OFF 
! /EFACET,1   
! PLNSOL, S,EQV, 0,1.0
! /EFACET,1   
! PLNSOL, S,EQV, 0,1.0
! /triad,off  
! /REPLOT 
FINISH  

/POST1  
! /SHOW,WIN32C
SET,FIRST   
/DSCALE,ALL,OFF
/PLOPTS,INFO,3  
/PLOPTS,LEG1,0  
/PLOPTS,LEG2,1  
/PLOPTS,LEG3,0  
/PLOPTS,FRAME,0 
/PLOPTS,TITLE,0 
/PLOPTS,MINM,0  
/PLOPTS,FILE,0  
/PLOPTS,SPNO,0  
/PLOPTS,LOGO,1  
/PLOPTS,WINS,1  
/PLOPTS,WP,0
/PLOPTS,DATE,0  
/TRIAD,OFF  
/REPLOT
/REPLOT
!*  

*VGET,stress,NODE,,S,EQV
suffix = '000000'
number = CHRVAL(i)
filename = 'fea_%STRFILL(suffix,number,6-STRLENG(number)+1)%'
*CFOPEN,filename,'txt'
*VWRITE,stress(1)
(F20.5)
*CFCLOS

*ENDDO
