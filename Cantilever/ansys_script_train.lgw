/BATCH  
! /COM,ANSYS RELEASE 2021 R1           BUILD 21.1      UP20201109       15:50:34  
/input,menust,tmp,''
! /GRA,POWER  
! /GST,ON 
! /PLO,INFO,3 
! /GRO,CURL,ON
! /CPLANE,1   
! /REPLOT,RESIZE  
WPSTYLE,,,,,,,,0
! /REPLOT,RESIZE  
!*  
/NOPR   
KEYW,PR_SET,1   
KEYW,PR_STRUC,1 
KEYW,PR_THERM,0 
KEYW,PR_FLUID,0 
KEYW,PR_ELMAG,0 
KEYW,MAGNOD,0   
KEYW,MAGEDG,0   
KEYW,MAGHFE,0   
KEYW,MAGELC,0   
KEYW,PR_MULTI,0 
/GO 
!*  
! /COM,   
! /COM,Preferences for GUI filtering have been set to display:
! /COM,  Structural   
!*  

!* Disable popups.
/UIS,MSGPOP,4

*DIM,samples,ARRAY,7,100
samples(1,1) = 41818.0,-1735.0,-166.0,185.45,2.444,1.293,45222222222.0
samples(1,2) = 58182.0,1645.0,-1781.0,312.73,2.949,1.354,23111111111.0
samples(1,3) = 52727.0,1984.0,944.0,25.45,3.798,1.121,175878787879.0
samples(1,4) = 95455.0,-1537.0,-3668.0,247.27,2.505,1.313,165828282828.0
samples(1,5) = 25455.0,-874.0,-601.0,214.55,2.545,1.939,193969696970.0
samples(1,6) = 23636.0,-811.0,558.0,145.45,2.586,1.111,15070707071.0
samples(1,7) = 31818.0,-1272.0,374.0,163.64,2.384,1.444,65323232323.0
samples(1,8) = 30000.0,-409.0,-1181.0,250.91,2.424,2.0,37181818182.0
samples(1,9) = 63636.0,1919.0,1830.0,43.64,3.313,1.051,35171717172.0
samples(1,10) = 74545.0,-2034.0,-2347.0,229.09,2.707,1.808,119595959596.0
samples(1,11) = 24545.0,593.0,833.0,54.55,3.616,1.131,167838383838.0
samples(1,12) = 70909.0,-2776.0,1011.0,160.0,2.97,1.737,5020202020.0
samples(1,13) = 85455.0,-3165.0,1632.0,152.73,3.414,1.263,103515151515.0
samples(1,14) = 99091.0,4096.0,-523.0,352.73,3.434,1.949,79393939394.0
samples(1,15) = 83636.0,2806.0,-2066.0,323.64,3.556,1.091,91454545455.0
samples(1,16) = 90909.0,-2481.0,2863.0,130.91,2.929,1.283,153767676768.0
samples(1,17) = 57273.0,1727.0,-1647.0,316.36,3.596,1.465,157787878788.0
samples(1,18) = 54545.0,-1786.0,1405.0,141.82,2.808,1.535,113565656566.0
samples(1,19) = 75455.0,-447.0,3112.0,98.18,3.899,1.343,31151515152.0
samples(1,20) = 60000.0,2321.0,929.0,21.82,3.131,1.04,19090909091.0
samples(1,21) = 64545.0,1696.0,2087.0,50.91,2.162,1.525,189949494949.0
samples(1,22) = 50000.0,2046.0,-394.0,349.09,2.02,1.97,99494949495.0
samples(1,23) = 22727.0,947.0,0.0,0.0,3.475,1.01,169848484848.0
samples(1,24) = 77273.0,3213.0,-204.0,356.36,2.667,1.727,195979797980.0
samples(1,25) = 33636.0,-373.0,1351.0,105.45,2.646,1.03,11050505051.0
samples(1,26) = 96364.0,191.0,4011.0,87.27,3.212,1.081,17080808081.0
samples(1,27) = 86364.0,-57.0,3598.0,90.91,2.626,1.697,21101010101.0
samples(1,28) = 40909.0,506.0,1628.0,72.73,3.495,1.0,27131313131.0
samples(1,29) = 80909.0,3203.0,1052.0,18.18,2.101,1.848,139696969697.0
samples(1,30) = 45455.0,210.0,-1882.0,276.36,2.788,1.273,149747474747.0
samples(1,31) = 51818.0,-1308.0,1718.0,127.27,3.455,1.545,171858585859.0
samples(1,32) = 30909.0,1265.0,244.0,10.91,2.404,1.485,13060606061.0
samples(1,33) = 37273.0,1190.0,-998.0,320.0,3.374,1.414,3010101010.0
samples(1,34) = 27273.0,1100.0,285.0,14.55,2.606,1.646,41202020202.0
samples(1,35) = 79091.0,-3214.0,-726.0,192.73,2.727,1.384,137686868687.0
samples(1,36) = 47273.0,-1945.0,-311.0,189.09,2.222,1.717,55272727273.0
samples(1,37) = 35455.0,527.0,1380.0,69.09,3.152,1.919,25121212121.0
samples(1,38) = 11818.0,-219.0,441.0,116.36,3.98,1.596,109545454545.0
samples(1,39) = 53636.0,-318.0,-2212.0,261.82,3.576,1.152,59292929293.0
samples(1,40) = 46364.0,455.0,-1877.0,283.64,3.96,1.838,75373737374.0
samples(1,41) = 71818.0,1887.0,-2323.0,309.09,2.242,1.677,131656565657.0
samples(1,42) = 100000.0,-1110.0,-4016.0,254.55,3.111,1.556,159797979798.0
samples(1,43) = 76364.0,-252.0,-3172.0,265.45,2.909,1.505,185929292929.0
samples(1,44) = 93636.0,3902.0,-0.0,360.0,2.99,1.707,89444444444.0
samples(1,45) = 60909.0,-40.0,-2538.0,269.09,3.394,1.182,9040404040.0
samples(1,46) = 80000.0,-2338.0,2376.0,134.55,3.03,1.061,81404040404.0
samples(1,47) = 82727.0,-2957.0,-1771.0,210.91,2.141,1.455,77383838384.0
samples(1,48) = 49091.0,-1133.0,1703.0,123.64,2.303,1.434,177888888889.0
samples(1,49) = 73636.0,1618.0,-2607.0,301.82,3.535,1.687,121606060606.0
samples(1,50) = 13636.0,-487.0,292.0,149.09,4.0,1.576,155777777778.0
samples(1,51) = 17273.0,-702.0,159.0,167.27,3.172,1.394,133666666667.0
samples(1,52) = 67273.0,2780.0,355.0,7.27,2.323,1.99,87434343434.0
samples(1,53) = 18182.0,-420.0,-631.0,236.36,2.283,1.374,47232323232.0
samples(1,54) = 62727.0,616.0,2540.0,76.36,2.343,1.828,69343434343.0
samples(1,55) = 48182.0,1907.0,-626.0,341.82,3.253,1.323,111555555556.0
samples(1,56) = 61818.0,2493.0,-647.0,345.45,2.889,1.899,141707070707.0
samples(1,57) = 20000.0,-417.0,-722.0,240.0,3.232,1.778,67333333333.0
samples(1,58) = 44545.0,1723.0,-690.0,338.18,3.192,1.566,151757575758.0
samples(1,59) = 92727.0,-3037.0,-2388.0,218.18,3.091,1.232,33161616162.0
samples(1,60) = 42727.0,1498.0,-963.0,327.27,2.566,1.404,85424242424.0
samples(1,61) = 88182.0,407.0,3652.0,83.64,3.818,1.606,173868686869.0
samples(1,62) = 98182.0,3441.0,2212.0,32.73,2.061,1.333,115575757576.0
samples(1,63) = 78182.0,-2428.0,2172.0,138.18,2.04,1.515,143717171717.0
samples(1,64) = 36364.0,-1514.0,48.0,178.18,3.677,1.657,147737373737.0
samples(1,65) = 39091.0,1312.0,966.0,36.36,3.838,1.364,83414141414.0
samples(1,66) = 40000.0,1505.0,-716.0,334.55,2.687,1.424,53262626263.0
samples(1,67) = 89091.0,1542.0,3377.0,65.45,3.737,1.818,95474747475.0
samples(1,68) = 10000.0,-292.0,-297.0,225.45,2.121,1.758,125626262626.0
samples(1,69) = 66364.0,-2598.0,-946.0,200.0,3.333,1.929,63313131313.0
samples(1,70) = 59091.0,-504.0,2410.0,101.82,3.293,1.889,183919191919.0
samples(1,71) = 16364.0,322.0,-601.0,298.18,2.364,1.788,127636363636.0
samples(1,72) = 38182.0,839.0,1352.0,58.18,3.354,1.192,1000000000.0
samples(1,73) = 55455.0,110.0,-2308.0,272.73,2.848,1.495,145727272727.0
samples(1,74) = 34545.0,835.0,-1172.0,305.45,3.758,1.859,107535353535.0
samples(1,75) = 94545.0,-2386.0,-3135.0,232.73,3.697,1.667,200000000000.0
samples(1,76) = 72727.0,1431.0,2671.0,61.82,2.0,1.98,7030303030.0
samples(1,77) = 65455.0,2383.0,-1326.0,330.91,2.202,1.172,161808080808.0
samples(1,78) = 56364.0,-1750.0,-1566.0,221.82,2.747,1.616,117585858586.0
samples(1,79) = 10909.0,189.0,-413.0,294.55,2.465,1.242,101505050505.0
samples(1,80) = 50909.0,-168.0,2115.0,94.55,3.071,1.212,191959595960.0
samples(1,81) = 26364.0,-1094.0,104.0,174.55,2.263,1.768,57282828283.0
samples(1,82) = 70000.0,506.0,2872.0,80.0,2.828,1.879,197989898990.0
samples(1,83) = 84545.0,-3521.0,-112.0,181.82,3.859,1.101,51252525253.0
samples(1,84) = 19091.0,-763.0,-224.0,196.36,3.939,1.02,43212121212.0
samples(1,85) = 68182.0,1928.0,2087.0,47.27,3.879,1.869,93464646465.0
samples(1,86) = 97273.0,-3713.0,1625.0,156.36,2.182,1.96,61303030303.0
samples(1,87) = 87273.0,1298.0,-3397.0,290.91,3.051,1.253,105525252525.0
samples(1,88) = 90000.0,-768.0,-3671.0,258.18,2.525,1.747,123616161616.0
samples(1,89) = 21818.0,-808.0,-417.0,207.27,3.717,1.909,29141414141.0
samples(1,90) = 81818.0,-1705.0,2952.0,120.0,3.01,1.626,187939393939.0
samples(1,91) = 91818.0,-1478.0,3529.0,112.73,2.768,1.798,181909090909.0
samples(1,92) = 69091.0,-2637.0,-1154.0,203.64,3.778,1.141,39191919192.0
samples(1,93) = 43636.0,1815.0,115.0,3.64,3.657,1.303,71353535354.0
samples(1,94) = 29091.0,-1197.0,192.0,170.91,3.636,1.202,135676767677.0
samples(1,95) = 20909.0,-285.0,823.0,109.09,3.273,1.222,97484848485.0
samples(1,96) = 12727.0,-235.0,-475.0,243.64,2.485,1.586,49242424242.0
samples(1,97) = 15455.0,563.0,313.0,29.09,2.081,1.071,73363636364.0
samples(1,98) = 14545.0,180.0,-579.0,287.27,3.515,1.162,179898989899.0
samples(1,99) = 32727.0,1045.0,877.0,40.0,3.919,1.636,129646464646.0
samples(1,100) = 28182.0,204.0,-1156.0,280.0,2.869,1.475,163818181818.0

*DO,i,1,100,1
/PREP7  
FLST,3,1,8  
FITEM,3,0,0,0   
K, ,P51X
FLST,3,1,8  
FITEM,3,samples(5,i,1),0,0   
K, ,P51X
FLST,3,1,8  
FITEM,3,samples(5,i,1),samples(6,i,1),0   
K, ,P51X
FLST,3,1,8  
FITEM,3,0,samples(6,i,1),0   
K, ,P51X
FLST,2,4,3  
FITEM,2,1   
FITEM,2,2   
FITEM,2,3   
FITEM,2,4   
A,P51X  

!*  Define element type.
ET,1,PLANE182   
!*  
KEYOPT,1,1,0
KEYOPT,1,3,3
KEYOPT,1,6,0
!*  Define thickness.
R,1,1,  
!*  Define material properties.
MPTEMP,,,,,,,,  
MPTEMP,1,0  
MPDATA,EX,1,,200e9  
MPDATA,PRXY,1,,0.3  

!*  Create the mesh.
FLST,5,2,4,ORDE,2   
FITEM,5,1   
FITEM,5,3   
CM,_Y,LINE  
LSEL, , , ,P51X 
CM,_Y1,LINE 
CMSEL,,_Y   
!*  
LESIZE,_Y1, , ,49, , , , ,1
!*  
FLST,5,2,4,ORDE,2   
FITEM,5,2   
FITEM,5,4   
CM,_Y,LINE  
LSEL, , , ,P51X 
CM,_Y1,LINE 
CMSEL,,_Y   
!*  
LESIZE,_Y1, , ,24, , , , ,1
!*  
MSHAPE,0,2D 
MSHKEY,0
!*  
CM,_Y,AREA  
ASEL, , , ,       1 
CM,_Y1,AREA 
CHKMSH,'AREA'   
CMSEL,S,_Y  
!*  
AMESH,_Y1   
!*  
CMDELE,_Y   
CMDELE,_Y1  
CMDELE,_Y2  

! NPLOT   
! /PNUM,KP,0  
! /PNUM,LINE,0
! /PNUM,AREA,0
! /PNUM,VOLU,0
! /PNUM,NODE,1
! /PNUM,TABN,0
! /PNUM,SVAL,0
! /NUMBER,0   
!*  
! /PNUM,ELEM,0
! /REPLOT 
!*  
! /REPLOT,RESIZE  

!*  Apply displacement boundary condition.
FINISH  
/SOL
FLST,2,1,4,ORDE,1   
FITEM,2,4   
!*  
/GO 
DL,P51X, ,ALL,0 

!* Apply X and Y components of load on free end.
FLST,2,48,1,ORDE,2  
FITEM,2,102 
FITEM,2,-149
!*  
/GO 
F,P51X,FX,samples(2,i,1)  

FLST,2,2,1,ORDE,2   
FITEM,2,2   
FITEM,2,101 
!*  
/GO 
F,P51X,FX,samples(2,i,1)/2

FLST,2,48,1,ORDE,2  
FITEM,2,102 
FITEM,2,-149
!*  
/GO 
F,P51X,FY,samples(3,i,1) 

FLST,2,2,1,ORDE,2   
FITEM,2,2   
FITEM,2,101 
!*  
/GO 
F,P51X,FY,samples(3,i,1)/2


FINISH  
/SOL
! /STATUS,SOLU
SOLVE   
FINISH  
/POST1  
/SHOW,WIN32C
SET,FIRST   
/PLOPTS,INFO,3  
/CONTOUR,ALL,18 
/PNUM,MAT,1 
/NUMBER,1   
/REPLOT,RESIZE  
PLNSOL,S,EQV
/UIS,ABORT,1  
/SHOW,WIN32 
/REPLOT,RESIZE  
!*  
! /DSCALE,ALL,OFF 
! /EFACET,1   
! PLNSOL, S,EQV, 0,1.0
! /EFACET,1   
! PLNSOL, S,EQV, 0,1.0
! /triad,off  
! /REPLOT 
FINISH  

/POST1  
! /SHOW,WIN32C
SET,FIRST   
/DSCALE,ALL,OFF
/PLOPTS,INFO,3  
/PLOPTS,LEG1,0  
/PLOPTS,LEG2,1  
/PLOPTS,LEG3,0  
/PLOPTS,FRAME,0 
/PLOPTS,TITLE,0 
/PLOPTS,MINM,0  
/PLOPTS,FILE,0  
/PLOPTS,SPNO,0  
/PLOPTS,LOGO,1  
/PLOPTS,WINS,1  
/PLOPTS,WP,0
/PLOPTS,DATE,0  
/TRIAD,OFF  
/REPLOT
/REPLOT
!*  

*VGET,stress,NODE,,S,EQV
suffix = '000000'
number = CHRVAL(i)
filename = 'fea_%STRFILL(suffix,number,6-STRLENG(number)+1)%'
*CFOPEN,filename,'txt'
*VWRITE,stress(1)
(F20.5)
*CFCLOS

*ENDDO
