/BATCH  
! /COM,ANSYS RELEASE 2021 R1           BUILD 21.1      UP20201109       15:50:34  
/input,menust,tmp,''
! /GRA,POWER  
! /GST,ON 
! /PLO,INFO,3 
! /GRO,CURL,ON
! /CPLANE,1   
! /REPLOT,RESIZE  
WPSTYLE,,,,,,,,0
! /REPLOT,RESIZE  
!*  

*DO,i,1,100,1

*DIM,samples,ARRAY,9,100
samples(1,1) = 11818.0,-553.0,-562.0,225.45,2.02,1.293,179898989899.0,25.0,16.0
samples(1,2) = 77273.0,4034.0,515.0,7.27,2.121,1.636,7030303030.0,27.0,20.0
samples(1,3) = 30000.0,892.0,-2335.0,290.91,3.293,1.051,195979797980.0,41.0,13.0
samples(1,4) = 46364.0,-1918.0,1508.0,141.82,2.646,1.616,107535353535.0,33.0,20.0
samples(1,5) = 27273.0,-1508.0,-549.0,200.0,2.202,1.414,157787878788.0,28.0,18.0
samples(1,6) = 70909.0,3115.0,5021.0,58.18,2.343,1.03,19090909091.0,29.0,13.0
samples(1,7) = 40000.0,-1104.0,2635.0,112.73,2.788,1.172,163818181818.0,35.0,15.0
samples(1,8) = 87273.0,4264.0,-1707.0,338.18,2.323,1.576,131656565657.0,29.0,20.0
samples(1,9) = 80000.0,3739.0,-2403.0,327.27,3.939,1.556,183919191919.0,49.0,19.0
samples(1,10) = 89091.0,-5101.0,2232.0,156.36,2.99,1.374,173868686869.0,37.0,17.0
samples(1,11) = 49091.0,526.0,2169.0,76.36,2.263,1.879,171858585859.0,28.0,23.0
samples(1,12) = 50000.0,132.0,-2775.0,272.73,3.253,1.485,141707070707.0,41.0,19.0
samples(1,13) = 25455.0,540.0,1736.0,72.73,3.596,1.222,37181818182.0,45.0,15.0
samples(1,14) = 91818.0,1907.0,4176.0,65.45,4.0,1.707,17080808081.0,50.0,21.0
samples(1,15) = 80909.0,-3018.0,1807.0,149.09,3.394,1.96,91454545455.0,42.0,24.0
samples(1,16) = 60000.0,1720.0,-2117.0,309.09,3.697,1.808,87434343434.0,46.0,23.0
samples(1,17) = 65455.0,-2831.0,-3720.0,232.73,3.556,1.182,75373737374.0,44.0,15.0
samples(1,18) = 54545.0,-3388.0,3031.0,138.18,2.141,1.01,135676767677.0,27.0,13.0
samples(1,19) = 64545.0,477.0,-4277.0,276.36,2.444,1.242,153767676768.0,31.0,16.0
samples(1,20) = 13636.0,582.0,112.0,10.91,3.636,1.919,103515151515.0,45.0,24.0
samples(1,21) = 100000.0,1240.0,-7034.0,280.0,2.727,1.192,191959595960.0,34.0,15.0
samples(1,22) = 41818.0,-1956.0,1987.0,134.55,3.535,1.303,197989898990.0,44.0,16.0
samples(1,23) = 61818.0,2928.0,-2156.0,323.64,3.818,1.424,53262626263.0,48.0,18.0
samples(1,24) = 93636.0,7145.0,-912.0,352.73,3.172,1.081,111555555556.0,40.0,14.0
samples(1,25) = 79091.0,-2466.0,-2846.0,229.09,2.303,1.747,169848484848.0,29.0,22.0
samples(1,26) = 96364.0,7655.0,4259.0,29.09,3.051,1.0,45222222222.0,38.0,12.0
samples(1,27) = 69091.0,2782.0,2048.0,36.36,2.0,1.697,149747474747.0,25.0,21.0
samples(1,28) = 12727.0,-690.0,-156.0,192.73,3.152,1.525,85424242424.0,39.0,19.0
samples(1,29) = 90909.0,-1078.0,-7499.0,261.82,3.677,1.02,29141414141.0,46.0,13.0
samples(1,30) = 57273.0,-679.0,4724.0,98.18,2.485,1.071,155777777778.0,31.0,13.0
samples(1,31) = 17273.0,-76.0,957.0,94.55,3.313,1.515,185929292929.0,41.0,19.0
samples(1,32) = 32727.0,-113.0,-1418.0,265.45,3.192,1.949,129646464646.0,40.0,24.0
samples(1,33) = 45455.0,1731.0,-1651.0,316.36,2.424,1.586,73363636364.0,30.0,20.0
samples(1,34) = 76364.0,3320.0,-0.0,360.0,2.929,1.889,1000000000.0,37.0,24.0
samples(1,35) = 39091.0,-556.0,-1606.0,250.91,3.515,1.939,47232323232.0,44.0,24.0
samples(1,36) = 20000.0,-1111.0,573.0,152.73,2.545,1.364,69343434343.0,32.0,17.0
samples(1,37) = 48182.0,254.0,2280.0,83.64,2.404,1.758,125626262626.0,30.0,22.0
samples(1,38) = 51818.0,-2437.0,390.0,170.91,3.838,1.737,101505050505.0,48.0,22.0
samples(1,39) = 35455.0,-1586.0,577.0,160.0,2.101,1.778,117585858586.0,26.0,22.0
samples(1,40) = 14545.0,-544.0,-428.0,218.18,3.859,1.768,119595959596.0,48.0,22.0
samples(1,41) = 94545.0,7273.0,0.0,0.0,2.687,1.091,115575757576.0,34.0,14.0
samples(1,42) = 16364.0,650.0,-362.0,330.91,3.01,1.838,15070707071.0,38.0,23.0
samples(1,43) = 19091.0,1058.0,-67.0,356.36,3.434,1.495,187939393939.0,43.0,19.0
samples(1,44) = 53636.0,-2980.0,-1536.0,207.27,2.505,1.343,139696969697.0,31.0,17.0
samples(1,45) = 70000.0,1653.0,3085.0,61.82,2.909,1.717,95474747475.0,36.0,21.0
samples(1,46) = 95455.0,-3900.0,-2335.0,210.91,3.778,1.798,77383838384.0,47.0,22.0
samples(1,47) = 26364.0,-1318.0,-42.0,181.82,3.96,1.657,33161616162.0,49.0,21.0
samples(1,48) = 10000.0,-111.0,-402.0,254.55,3.131,1.97,65323232323.0,39.0,25.0
samples(1,49) = 90000.0,3480.0,4887.0,54.55,2.586,1.253,81404040404.0,32.0,16.0
samples(1,50) = 92727.0,-64.0,4031.0,90.91,3.414,1.929,59292929293.0,43.0,24.0
samples(1,51) = 52727.0,-4216.0,1238.0,163.64,2.869,1.04,3010101010.0,36.0,13.0
samples(1,52) = 15455.0,-787.0,-344.0,203.64,2.566,1.545,193969696970.0,32.0,19.0
samples(1,53) = 81818.0,-3209.0,-2871.0,221.82,3.737,1.606,200000000000.0,47.0,20.0
samples(1,54) = 85455.0,-3867.0,369.0,174.55,2.747,1.859,57282828283.0,34.0,23.0
samples(1,55) = 73636.0,2773.0,-4469.0,301.82,3.232,1.212,25121212121.0,40.0,15.0
samples(1,56) = 63636.0,-1812.0,2091.0,130.91,3.657,1.909,113565656566.0,46.0,24.0
samples(1,57) = 86364.0,5387.0,342.0,3.64,2.081,1.333,49242424242.0,26.0,17.0
samples(1,58) = 30909.0,-1810.0,-173.0,185.45,2.949,1.404,161808080808.0,37.0,18.0
samples(1,59) = 50909.0,2594.0,673.0,14.55,3.455,1.626,67333333333.0,43.0,20.0
samples(1,60) = 38182.0,-955.0,-1653.0,240.0,2.364,1.667,71353535354.0,30.0,21.0
samples(1,61) = 28182.0,911.0,986.0,47.27,2.97,1.788,121606060606.0,37.0,22.0
samples(1,62) = 33636.0,1453.0,477.0,18.18,2.606,1.869,99494949495.0,33.0,23.0
samples(1,63) = 83636.0,-5899.0,-944.0,189.09,2.242,1.232,105525252525.0,28.0,15.0
samples(1,64) = 22727.0,375.0,-1206.0,287.27,2.384,1.505,79393939394.0,30.0,19.0
samples(1,65) = 34545.0,-665.0,1920.0,109.09,2.283,1.434,93464646465.0,29.0,18.0
samples(1,66) = 43636.0,-2660.0,601.0,167.27,3.354,1.354,177888888889.0,42.0,17.0
samples(1,67) = 44545.0,1234.0,-2701.0,294.55,2.465,1.283,97484848485.0,31.0,16.0
samples(1,68) = 74545.0,3372.0,3215.0,43.64,3.03,1.394,51252525253.0,38.0,17.0
samples(1,69) = 20909.0,-772.0,1161.0,123.64,3.071,1.273,89444444444.0,38.0,16.0
samples(1,70) = 36364.0,1986.0,795.0,21.82,3.879,1.465,175878787879.0,48.0,18.0
samples(1,71) = 24545.0,203.0,1151.0,80.0,3.576,1.727,127636363636.0,45.0,22.0
samples(1,72) = 71818.0,2058.0,2534.0,50.91,2.828,1.828,41202020202.0,35.0,23.0
samples(1,73) = 72727.0,2812.0,-3949.0,305.45,3.717,1.263,123616161616.0,46.0,16.0
samples(1,74) = 84545.0,-911.0,4355.0,101.82,2.04,1.596,21101010101.0,26.0,20.0
samples(1,75) = 88182.0,-3757.0,-5648.0,236.36,2.808,1.131,189949494949.0,35.0,14.0
samples(1,76) = 42727.0,841.0,-1569.0,298.18,3.899,2.0,181909090909.0,49.0,25.0
samples(1,77) = 58182.0,1298.0,3397.0,69.09,2.061,1.384,159797979798.0,26.0,17.0
samples(1,78) = 31818.0,-652.0,2359.0,105.45,3.475,1.152,31151515152.0,43.0,14.0
samples(1,79) = 62727.0,-2533.0,3328.0,127.27,2.707,1.313,167838383838.0,34.0,16.0
samples(1,80) = 82727.0,2900.0,1864.0,32.73,2.626,1.99,9040404040.0,33.0,25.0
samples(1,81) = 40909.0,-349.0,-1668.0,258.18,3.091,1.98,27131313131.0,39.0,25.0
samples(1,82) = 55455.0,-73.0,-4621.0,269.09,2.525,1.061,147737373737.0,32.0,13.0
samples(1,83) = 29091.0,1382.0,-454.0,341.82,3.758,1.687,35171717172.0,47.0,21.0
samples(1,84) = 78182.0,1418.0,-5844.0,283.64,2.768,1.111,137686868687.0,35.0,14.0
samples(1,85) = 60909.0,-3581.0,114.0,178.18,2.667,1.455,13060606061.0,33.0,18.0
samples(1,86) = 67273.0,2712.0,2276.0,40.0,3.111,1.566,5020202020.0,39.0,20.0
samples(1,87) = 75455.0,-2358.0,4084.0,120.0,3.616,1.323,61303030303.0,45.0,17.0
samples(1,88) = 68182.0,3304.0,-3578.0,312.73,2.182,1.162,39191919192.0,27.0,15.0
samples(1,89) = 99091.0,4067.0,1936.0,25.45,2.848,1.818,109545454545.0,36.0,23.0
samples(1,90) = 66364.0,-3184.0,-935.0,196.36,3.212,1.646,143717171717.0,40.0,21.0
samples(1,91) = 59091.0,-2434.0,-1675.0,214.55,3.798,1.677,151757575758.0,47.0,21.0
samples(1,92) = 23636.0,-807.0,1629.0,116.36,2.162,1.141,55272727273.0,27.0,14.0
samples(1,93) = 37273.0,-1108.0,-2645.0,247.27,3.98,1.101,11050505051.0,50.0,14.0
samples(1,94) = 97273.0,356.0,7474.0,87.27,3.919,1.121,63313131313.0,49.0,14.0
samples(1,95) = 10909.0,-408.0,281.0,145.45,2.889,1.848,133666666667.0,36.0,23.0
samples(1,96) = 47273.0,2587.0,-2170.0,320.0,2.222,1.202,43212121212.0,28.0,15.0
samples(1,97) = 98182.0,5215.0,-2482.0,334.55,3.333,1.444,83414141414.0,42.0,18.0
samples(1,98) = 18182.0,1050.0,-202.0,349.09,3.374,1.475,23111111111.0,42.0,18.0
samples(1,99) = 56364.0,-1088.0,-2196.0,243.64,3.495,1.899,145727272727.0,44.0,24.0
samples(1,100) = 21818.0,1173.0,-304.0,345.45,3.273,1.535,165828282828.0,41.0,19.0

/NOPR   
KEYW,PR_SET,1   
KEYW,PR_STRUC,1 
KEYW,PR_THERM,0 
KEYW,PR_FLUID,0 
KEYW,PR_ELMAG,0 
KEYW,MAGNOD,0   
KEYW,MAGEDG,0   
KEYW,MAGHFE,0   
KEYW,MAGELC,0   
KEYW,PR_MULTI,0 
/GO 
!*  
! /COM,   
! /COM,Preferences for GUI filtering have been set to display:
! /COM,  Structural   
!*  

!* Disable popups.
/UIS,MSGPOP,4

/PREP7  
FLST,3,1,8  
FITEM,3,0,0,0   
K, ,P51X
FLST,3,1,8  
FITEM,3,samples(5,i,1),0,0   
K, ,P51X
FLST,3,1,8  
FITEM,3,samples(5,i,1),samples(6,i,1),0   
K, ,P51X
FLST,3,1,8  
FITEM,3,0,samples(6,i,1),0   
K, ,P51X
FLST,2,4,3  
FITEM,2,1   
FITEM,2,2   
FITEM,2,3   
FITEM,2,4   
A,P51X  

!*  Define element type.
ET,1,PLANE182   
!*  
KEYOPT,1,1,0
KEYOPT,1,3,3
KEYOPT,1,6,0
!*  Define thickness.
R,1,1,  
!*  Define material properties.
MPTEMP,,,,,,,,  
MPTEMP,1,0  
MPDATA,EX,1,,samples(7,i,1)
MPDATA,PRXY,1,,0.3  

!*  Create the mesh.
FLST,5,2,4,ORDE,2   
FITEM,5,1   
FITEM,5,3   
CM,_Y,LINE  
LSEL, , , ,P51X 
CM,_Y1,LINE 
CMSEL,,_Y   
!*  
LESIZE,_Y1, , ,samples(8,i,1)-1, , , , ,1
!*  
FLST,5,2,4,ORDE,2   
FITEM,5,2   
FITEM,5,4   
CM,_Y,LINE  
LSEL, , , ,P51X 
CM,_Y1,LINE 
CMSEL,,_Y   
!*  
LESIZE,_Y1, , ,samples(9,i,1)-1, , , , ,1
!*  
MSHAPE,0,2D 
MSHKEY,0
!*  
CM,_Y,AREA  
ASEL, , , ,       1 
CM,_Y1,AREA 
CHKMSH,'AREA'   
CMSEL,S,_Y  
!*  
AMESH,_Y1   
!*  
CMDELE,_Y   
CMDELE,_Y1  
CMDELE,_Y2  

! NPLOT   
! /PNUM,KP,0  
! /PNUM,LINE,0
! /PNUM,AREA,0
! /PNUM,VOLU,0
! /PNUM,NODE,1
! /PNUM,TABN,0
! /PNUM,SVAL,0
! /NUMBER,0   
!*  
! /PNUM,ELEM,0
! /REPLOT 
!*  
! /REPLOT,RESIZE  

!*  Apply displacement boundary condition.
FINISH  
/SOL
FLST,2,1,4,ORDE,1   
FITEM,2,4   
!*  
/GO 
DL,P51X, ,ALL,0 

!* Apply X and Y components of load on free end.
FLST,2,samples(9,i,1)-2,1,ORDE,2
FITEM,2,samples(8,i,1)+2
FITEM,2,-(samples(8,i,1)+samples(9,i,1)-1)
/GO
F,P51X,FX,samples(2,i,1)

FLST,2,samples(9,i,1)-2,1,ORDE,2
FITEM,2,samples(8,i,1)+2
FITEM,2,-(samples(8,i,1)+samples(9,i,1)-1)
/GO
F,P51X,FY,samples(3,i,1)

FLST,2,2,1,ORDE,2
FITEM,2,2
FITEM,2,samples(8,i,1)+1
/GO
F,P51X,FX,samples(2,i,1)/2

FLST,2,2,1,ORDE,2
FITEM,2,2
FITEM,2,samples(8,i,1)+1
/GO
F,P51X,FY,samples(3,i,1)/2


FINISH  
/SOL
! /STATUS,SOLU
SOLVE   
FINISH  
/POST1  
/SHOW,WIN32C
SET,FIRST   
/PLOPTS,INFO,3  
/CONTOUR,ALL,18 
/PNUM,MAT,1 
/NUMBER,1   
/REPLOT,RESIZE  
PLNSOL,S,EQV
/UIS,ABORT,1  
/SHOW,WIN32 
/REPLOT,RESIZE  
!*  
! /DSCALE,ALL,OFF 
! /EFACET,1   
! PLNSOL, S,EQV, 0,1.0
! /EFACET,1   
! PLNSOL, S,EQV, 0,1.0
! /triad,off  
! /REPLOT 
FINISH  

/POST1  
! /SHOW,WIN32C
SET,FIRST   
/DSCALE,ALL,OFF
/PLOPTS,INFO,3  
/PLOPTS,LEG1,0  
/PLOPTS,LEG2,1  
/PLOPTS,LEG3,0  
/PLOPTS,FRAME,0 
/PLOPTS,TITLE,0 
/PLOPTS,MINM,0  
/PLOPTS,FILE,0  
/PLOPTS,SPNO,0  
/PLOPTS,LOGO,1  
/PLOPTS,WINS,1  
/PLOPTS,WP,0
/PLOPTS,DATE,0  
/TRIAD,OFF  
/REPLOT
/REPLOT
!*  

*VGET,stress,NODE,,S,EQV
suffix = '000000'
number = CHRVAL(i)
filename = 'fea_%STRFILL(suffix,number,6-STRLENG(number)+1)%'
*CFOPEN,filename,'txt'
*VWRITE,stress(1)
(F0.5)
*CFCLOS

/CLEAR

*ENDDO
